---
date: 2021-03-05
title: "STM32F407_FreeRTOS Project 생성 및 디버깅"
categories: Embedded_FreeRTOS
tags: jekyll
toc: true  
toc_sticky: true 
---

STM32F407_FreeRTOS Project 생성 및 디버깅
=============
이번 포스팅은 STM32F407 Discovery kit를 이용한 FreeRTOS Project 생성과 디버깅 Setup에 대한 내용을 정리하였습니다.

Project 생성은 Code Generator인 STM32CubeMX를 활용하였습니다.

Project 생성 후 총 3개의 LED를 각 각의 Task로 제어하는 간단한 동작을 확인하였습니다.

Uart TTL to USB 를 이용한 Log 입출력을 이용한 디버깅과 Keil의 Logic Analyzer 를 이용한 디버깅이 동작됨을 확인하였습니다.

앞으로 FreeRTOS를 공부하면서 쭈욱 활용해야하기 때문에 따로 정리하고자합니다.

# 1. STM32F407_FreeRTOS Project 생성
따로 설치법 등에 대한 내용은 생략하였습니다. 
# 1.1 STM32CubeMX
* 처음 'STM32CubeMX'를 실행하시면 아래와 같은 화면이 나옵니다.

![1](https://user-images.githubusercontent.com/79636864/110277314-56470f00-8018-11eb-9791-fe40d133679b.png)

* 아래의 사진과 같이 'File' 탭의 'New Project...'를 클릭합니다.

![2](https://user-images.githubusercontent.com/79636864/110277383-8098cc80-8018-11eb-9df9-367d604a344c.png)

* 좌측 상단의 Board Selector를 누르시고 바로 아래에 있는 'Commercial Part Number'에 Discovery kit의 모델명을 입력합니다.
* 그러면 Boards List에 Discovery kit의 정보가 나타납니다.

![3](https://user-images.githubusercontent.com/79636864/110277543-cbb2df80-8018-11eb-8262-1362bef41a8a.png)

* Boards List에 나타난 Discovery kit를 더블클릭하시면 위와 같은 창이 나오는데
* 모든 peripherals를 default Mode로 초기화의 여부를 뭍는 창이 나옵니다. Yes를 눌러줍니다.

![4](https://user-images.githubusercontent.com/79636864/110277669-146a9880-8019-11eb-986f-3e5b53d86714.png)

* Yes를 누른 후 기다리시면 아래와 같은 창이 뜨면서 여러 요소들에 대해 Configuration을 시작할 수 있습니다.

![5](https://user-images.githubusercontent.com/79636864/110277810-5dbae800-8019-11eb-8595-84f51b2cb8cb.png)

* FreeRTOS를 Enable하기 위해 좌측 하단의 'Middleware'의 'FREERTOS'를 누르고 나타나는 화면의 중단 상단의 Interface를 'CMSIS_V1'으로 설정하시면 아래와 같이 FreeRTOS 사용을 위한 Configuration을 할 수 있습니다. 각 각의 요소들에 대한 설명은 추후 공부하면서 자세하게 다루어볼 것입니다.

![6](https://user-images.githubusercontent.com/79636864/110278046-dae65d00-8019-11eb-9adc-b0dbe670ab77.png)

